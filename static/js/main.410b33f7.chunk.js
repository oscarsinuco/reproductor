(this.webpackJsonpreproductor=this.webpackJsonpreproductor||[]).push([[0],{28:function(e,t,a){e.exports=a(46)},33:function(e,t,a){},34:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n,c,i,r,o=a(0),l=a.n(o),s=a(16),u=a.n(s),m=(a(33),a(5)),d=a(6),h=a(10),p=a(9),v=(a(34),a(2)),E=a(13),f=a(22),g=a(27),y=function(){return{}},b=function(e){n=e.cancion,r=e},k=function(e){c=e},N=function(){return i},C=function(){return c},S=function(){return r},j=function(e){if(e>0){var t=r.id+e;t>=0&&t!==c.length&&(r.id=t,r.cancion=c[r.id]),t===c.length&&(r.id=0,r.cancion=c[r.id])}else{var a=r.id+e;r.id=a,r.id<0&&(r.id=c.length-1),r.cancion=c[r.id]}},w=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var c;return Object(m.a)(this,a),(c=t.call(this,e)).getCancion=function(){return n},c.getTime=function(e){c.setState({duration:e.target.currentTime.toFixed(1)}),e.target.currentTime.toFixed(1)===c.state.durationFinal&&(c.pause(),j(1),c.setCancion(),c.play())},c.update=function(e){c.pause(),c.setState({duration:e.target.value});var t=document.querySelector("#cancion");t.currentTime=e.target.value,t.play(),c.setState({isPlaying:!0})},c.play=function(){c.setState({isPlaying:!0}),document.querySelector("#cancion").play()},c.pause=function(){c.setState({isPlaying:!1}),document.querySelector("#cancion").pause()},c.getCancionActual=function(){return S()},c.setCancion=function(){c.setState({cache:Math.round(1e6*Math.random())});var e=S();c.setState({cancion:e.cancion}),document.querySelector("#cancion").addEventListener("loadedmetadata",(function(e){c.setState({durationFinal:e.target.duration.toFixed(1)}),c.play()}))},c.state={isPlaying:!1,duration:0,durationFinal:"Cargando",cancion:null,cache:Math.round(1e6*Math.random())},c}return Object(d.a)(a,[{key:"componentWillMount",value:function(){this.setState({cancion:this.getCancion()})}},{key:"componentDidMount",value:function(){var e=this;this.getCancion()&&document.querySelector("#cancion").addEventListener("loadedmetadata",(function(t){e.setState({durationFinal:t.target.duration.toFixed(1)}),e.play()}))}},{key:"render",value:function(){var e=this;return this.state.cancion?l.a.createElement("div",null,l.a.createElement("div",{className:"header"},l.a.createElement(E.b,{to:"/"},l.a.createElement("div",null,l.a.createElement("span",{className:"material-icons light"},"keyboard_backspace"))),l.a.createElement("div",{className:"title"},this.state.cancion.title.slice(0,25),"..."),l.a.createElement("div",{className:"c"},l.a.createElement("span",{className:"material-icons"},"keyboard_backspace"))),l.a.createElement("div",{className:"repr"},l.a.createElement("div",{className:"datos"},l.a.createElement("div",{className:"divCancion"},l.a.createElement("img",{className:"".concat(this.state.isPlaying," imgCancion"),id:"conservaPos",src:this.state.cancion.album.cover_big,alt:"Cancion"})),l.a.createElement("audio",{onTimeUpdate:this.getTime,src:"https://apideezer.herokuapp.com/?url=".concat(this.state.cancion.preview.replace("https","http"),"&nocache=").concat(this.state.cache),controls:!0,id:"cancion",hidden:!0},l.a.createElement("p",null,"Tu navegador no implementa el elemento audio.")),l.a.createElement("div",{className:"title"},l.a.createElement("h3",null,this.state.cancion.title),l.a.createElement("small",null,this.state.cancion.artist.name," ")),l.a.createElement("br",null),l.a.createElement("div",{className:"slidecontainer"},l.a.createElement("input",{type:"range",min:"0",max:this.state.durationFinal,value:this.state.duration,onChange:this.update,className:"slider"})),l.a.createElement("div",{id:"currentDuration"},l.a.createElement("small",null,Math.trunc(this.state.duration)," s")),l.a.createElement("div",{id:"finalDuration"},l.a.createElement("small",null,Math.trunc(this.state.durationFinal)," s")),l.a.createElement("div",{className:"controls"},l.a.createElement("div",{className:"previous",onClick:function(){j(-1),e.setCancion()}},l.a.createElement("span",{className:"material-icons repic light"},"skip_previous")),l.a.createElement("div",{className:"playa"},!this.state.isPlaying&&l.a.createElement("span",{className:"material-icons repic light",onClick:this.play},"play_arrow"),this.state.isPlaying&&l.a.createElement("span",{className:"material-icons repic light",onClick:this.pause},"pause")),l.a.createElement("div",{className:"next",onClick:function(){j(1),e.setCancion()}},l.a.createElement("span",{className:"material-icons repic light"},"skip_next"))))),l.a.createElement("div",{className:"imgBlur"},l.a.createElement("img",{src:this.state.cancion.album.cover_big,alt:"Background"}))):l.a.createElement(v.a,{to:"/home"})}}]),a}(l.a.Component),O=(a(40),a(41),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"swiper-slide"},l.a.createElement("p",null,this.props.name.slice(0,11)),l.a.createElement("div",{className:"imagenGenero swiper-slide2"},l.a.createElement("img",{src:this.props.img,alt:"Artista"})))}}]),a}(l.a.Component)),q=(a(42),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).setCancion=function(e){b(e)},e.cancion=e.props.data,e.id=e.props.id,e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(E.b,{to:"/cancion/"},l.a.createElement("div",{className:"container",onClick:function(){e.setCancion({id:e.id,cancion:e.cancion})}},l.a.createElement("div",{className:"left"},l.a.createElement("div",{className:"imgSong"},l.a.createElement("img",{src:this.props.data.album.cover_medium,alt:"background"})),l.a.createElement("div",{className:"description"},l.a.createElement("h4",null,this.props.data.title),l.a.createElement("h5",{className:"gris"},this.props.data.artist.name))),l.a.createElement("div",{className:"play"},l.a.createElement("span",{className:"material-icons"},"play_arrow"))))}}]),a}(l.a.Component)),F=a(24),M=a.n(F),_=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={categorias:[],canciones:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;N()&&C()?this.setState((function(){return{categorias:N(),canciones:C()}})):fetch("https://apideezer.herokuapp.com/cors?url=http://api.deezer.com/genre/").then((function(e){return e.json()})).then((function(t){var a;a=t.data,i=a,e.setState((function(){return{categorias:t.data}})),fetch("https://apideezer.herokuapp.com/cors?url=http://api.deezer.com/chart").then((function(e){return e.json()})).then((function(t){console.log(t.tracks),k(t.tracks.data),e.setState((function(){return{canciones:t.tracks.data}}))})).catch((function(e){alert(e)}))})).catch((function(e){alert(e)}));var t=document.querySelector("#buscador");t.onkeyup=function(a){13===a.keyCode&&e.search(t.value)}}},{key:"search",value:function(e){var t=this;document.querySelector("#buscador").blur();var a=document.querySelector("#resultados");window.scroll(0,a.getBoundingClientRect().top),this.setState((function(){return{canciones:[]}})),fetch("https://apideezer.herokuapp.com/cors?url="+"http://api.deezer.com/search?q=".concat(e)).then((function(e){return e.json()})).then((function(e){k(e.data),t.setState((function(){return{canciones:e.data}}))})).catch((function(e){alert(e)}))}},{key:"render",value:function(){var e={slidesPerView:2.5,spaceBetween:20,freeMode:!0,loop:!0,auto:!0},t=this.state.categorias.map((function(e,t){return l.a.createElement(O,{id:e.id,name:e.name,key:t,img:e.picture_medium})})),a=this.state.canciones.map((function(e,t){return l.a.createElement(q,{data:e,key:t,id:t})}));return l.a.createElement("div",{className:"fondo"},l.a.createElement("div",{className:"content"},l.a.createElement("div",{id:"buscar"},l.a.createElement("span",{className:"material-icons search"},"search"),l.a.createElement("input",{type:"text",id:"buscador",autoComplete:"off",placeholder:"Busca aqu\xed..."})),l.a.createElement("h1",null,"Bienvenido,"),l.a.createElement("h4",null,"Buenos dias!"),l.a.createElement("br",null),l.a.createElement("br",null),t.length>0&&l.a.createElement(M.a,e,t),0===this.state.categorias.length&&l.a.createElement("div",{className:"loader2"},"Loading..."),l.a.createElement("br",null),l.a.createElement("h2",{id:"resultados"},"Resultados"),l.a.createElement("br",null),0===this.state.canciones.length&&l.a.createElement("div",{className:"loader2"},"Loading..."),a.length>0&&a))}}]),a}(l.a.Component);var x=function(){return l.a.createElement(E.a,null,l.a.createElement("div",null,l.a.createElement(v.d,null,l.a.createElement(v.b,{path:"/cancion/",component:w}),l.a.createElement(v.b,{path:"/"},l.a.createElement(_,null)),l.a.createElement(v.b,{path:"/home"},l.a.createElement(_,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(26),P=Object(f.a)({},Object(g.a)(y));u.a.render(l.a.createElement(B.a,{store:P},l.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.410b33f7.chunk.js.map