(this.webpackJsonpreproductor=this.webpackJsonpreproductor||[]).push([[0],{30:function(e,t,a){e.exports=a(47)},35:function(e,t,a){},36:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n,c,i,r,o=a(0),s=a.n(o),l=a(16),u=a.n(l),m=(a(35),a(4)),d=a(8),h=a(10),p=a(9),v=(a(36),a(2)),E=a(13),f=a(26),g=a(19),y=function(){return{}},b=function(e){n=e.cancion,r=e},k=function(e){c=e},N=function(){return i},C=function(){return c},S=function(){return r},j=function(e){if(e>0){var t=r.id+e;t>=0&&t!=c.length&&(r.id=t,r.cancion=c[r.id]),t==c.length&&(r.id=0,r.cancion=c[r.id])}else{var a=r.id+e;r.id=a,r.id<0&&(r.id=c.length-1),r.cancion=c[r.id]}},w=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var c;return Object(m.a)(this,a),(c=t.call(this,e)).getCancion=function(){return n},c.getTime=function(e){c.setState({duration:e.target.currentTime.toFixed(1)}),e.target.currentTime.toFixed(1)===c.state.durationFinal&&(c.pause(),j(1),c.setCancion(),c.play())},c.update=function(e){c.pause(),c.setState({duration:e.target.value});var t=document.querySelector("#cancion");t.currentTime=e.target.value,t.play(),c.setState({isPlaying:!0})},c.play=function(){c.setState({isPlaying:!0}),document.querySelector("#cancion").play()},c.pause=function(){c.setState({isPlaying:!1}),document.querySelector("#cancion").pause()},c.getCancionActual=function(){return S()},c.setCancion=function(){c.setState({cache:Math.round(1e6*Math.random())});var e=S();c.setState({cancion:e.cancion}),document.querySelector("#cancion").addEventListener("loadedmetadata",(function(e){c.setState({durationFinal:e.target.duration.toFixed(1)}),c.play()}))},c.state={isPlaying:!1,duration:0,durationFinal:"Cargando",cancion:null,cache:Math.round(1e6*Math.random())},c}return Object(d.a)(a,[{key:"componentWillMount",value:function(){this.setState({cancion:this.getCancion()})}},{key:"componentDidMount",value:function(){var e=this;this.getCancion()&&document.querySelector("#cancion").addEventListener("loadedmetadata",(function(t){e.setState({durationFinal:t.target.duration.toFixed(1)}),e.play()}))}},{key:"render",value:function(){var e=this;return this.state.cancion?s.a.createElement("div",null,s.a.createElement("div",{className:"header"},s.a.createElement(E.b,{to:"/"},s.a.createElement("div",null,s.a.createElement("span",{className:"material-icons light"},"keyboard_backspace"))),s.a.createElement("div",{className:"title"},this.state.cancion.title.slice(0,25),"..."),s.a.createElement("div",{className:"c"},s.a.createElement("span",{className:"material-icons"},"keyboard_backspace"))),s.a.createElement("div",{className:"repr"},s.a.createElement("div",{className:"datos"},s.a.createElement("div",{className:"divCancion"},s.a.createElement("img",{className:"".concat(this.state.isPlaying," imgCancion"),id:"conservaPos",src:this.state.cancion.album.cover_medium})),s.a.createElement("audio",{onTimeUpdate:this.getTime,src:"https://apideezer.herokuapp.com/?url=".concat(this.state.cancion.preview.replace("https","http"),"&nocache=").concat(this.state.cache),controls:!0,id:"cancion",hidden:!0},s.a.createElement("p",null,"Tu navegador no implementa el elemento audio.")),s.a.createElement("div",{className:"title"},s.a.createElement("h3",null,this.state.cancion.title),s.a.createElement("small",null,this.state.cancion.artist.name," ")),s.a.createElement("br",null),s.a.createElement("div",{className:"slidecontainer"},s.a.createElement("input",{type:"range",min:"0",max:this.state.durationFinal,value:this.state.duration,onChange:this.update,className:"slider"})),s.a.createElement("div",{id:"currentDuration"},s.a.createElement("small",null,this.state.duration," s")),s.a.createElement("div",{id:"finalDuration"},s.a.createElement("small",null,this.state.durationFinal," s")),s.a.createElement("div",{className:"controls"},s.a.createElement("div",{className:"previous",onClick:function(){j(-1),e.setCancion()}},s.a.createElement("span",{className:"material-icons repic light"},"skip_previous")),s.a.createElement("div",{className:"playa"},!this.state.isPlaying&&s.a.createElement("span",{className:"material-icons repic light",onClick:this.play},"play_arrow"),this.state.isPlaying&&s.a.createElement("span",{className:"material-icons repic light",onClick:this.pause},"pause")),s.a.createElement("div",{className:"next",onClick:function(){j(1),e.setCancion()}},s.a.createElement("span",{className:"material-icons repic light"},"skip_next"))))),s.a.createElement("div",{className:"imgBlur"},s.a.createElement("img",{src:this.state.cancion.album.cover_medium}))):s.a.createElement(v.a,{to:"/home"})}}]),a}(s.a.Component),O=(a(42),a(43),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"swiper-slide",onClick:this.props.funcion},s.a.createElement("p",null,this.props.name.slice(0,11)),s.a.createElement("div",{className:"imagenGenero swiper-slide2"},s.a.createElement("img",{src:this.props.img})))}}]),a}(s.a.Component)),F=(a(44),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).setCancion=function(e){b(e)},e.cancion=e.props.data,e.id=e.props.id,e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(E.b,{to:"/cancion/"},s.a.createElement("div",{className:"container",onClick:function(){e.setCancion({id:e.id,cancion:e.cancion})}},s.a.createElement("div",{className:"imgSong"},s.a.createElement("img",{src:this.props.data.album.cover_medium})),s.a.createElement("div",{className:"description"},s.a.createElement("h4",null,this.props.data.title),s.a.createElement("h5",{className:"gris"},this.props.data.artist.name)),s.a.createElement("div",{className:"play"},s.a.createElement("span",{className:"material-icons"},"play_arrow"))))}}]),a}(s.a.Component)),_=a(28),q=a.n(_),x=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={categorias:[],canciones:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;N()&&C()?this.setState((function(e){return{categorias:N(),canciones:C()}})):fetch("https://apideezer.herokuapp.com/cors?url=http://api.deezer.com/genre/").then((function(e){return e.json()})).then((function(t){var a;a=t.data,i=a,e.setState((function(e){return{categorias:t.data}})),fetch("https://apideezer.herokuapp.com/cors?url=http://api.deezer.com/chart").then((function(e){return e.json()})).then((function(t){console.log(t.tracks),k(t.tracks.data),e.setState((function(e){return{canciones:t.tracks.data}}))})).catch((function(e){alert(e)}))})).catch((function(e){alert(e)}));var t=document.querySelector("#buscador");t.onkeyup=function(a){"13"==a.keyCode&&e.search(t.value)}}},{key:"search",value:function(e){var t=this;document.querySelector("#buscador").blur();var a=document.querySelector("#resultados");window.scroll(0,a.getBoundingClientRect().top),this.setState((function(e){return{canciones:[]}})),fetch("https://apideezer.herokuapp.com/cors?url="+"http://api.deezer.com/search?q=".concat(e)).then((function(e){return e.json()})).then((function(e){k(e.data),t.setState((function(t){return{canciones:e.data}}))})).catch((function(e){alert(e)}))}},{key:"render",value:function(){var e=this,t={slidesPerView:2.5,spaceBetween:20,freeMode:!0,loop:!0,auto:!0},a=this.state.categorias.map((function(t,a){return s.a.createElement(O,{id:t.id,name:t.name,key:a,img:t.picture_medium,funcion:function(){e.search(t.name)}})})),n=this.state.canciones.map((function(e,t){return s.a.createElement(F,{data:e,key:t,id:t})}));return s.a.createElement("div",{className:"fondo"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{id:"buscar"},s.a.createElement("span",{className:"material-icons search"},"search"),s.a.createElement("input",{type:"text",id:"buscador",autoComplete:"off"})),s.a.createElement("h1",null,"Bienvenido,"),s.a.createElement("h4",null,"Buenos dias!"),s.a.createElement("br",null),s.a.createElement("br",null),a.length>0&&s.a.createElement(q.a,t,a),0==this.state.categorias.length&&s.a.createElement("div",{className:"loader2"},"Loading..."),s.a.createElement("br",null),s.a.createElement("h2",{id:"resultados"},"Resultados"),s.a.createElement("br",null),0==this.state.canciones.length&&s.a.createElement("div",{className:"loader2"},"Loading..."),n.length>0&&n))}}]),a}(s.a.Component);var P=function(){return s.a.createElement(E.a,null,s.a.createElement("div",null,s.a.createElement(v.d,null,s.a.createElement(v.b,{path:"/cancion/",component:w}),s.a.createElement(v.b,{path:"/"},s.a.createElement(x,null)),s.a.createElement(v.b,{path:"/home"},s.a.createElement(x,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(29),z=Object(f.a)({},Object(g.b)(y));u.a.render(s.a.createElement(M.a,{store:z},s.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.4c0ff815.chunk.js.map